<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.wood.sql.studentMapper">

	<insert id="insertStudent" useGeneratedKeys="true" keyProperty="studentId"
		parameterType="Student">
		insert into student (studentid, studentname ) value (#{studentId},
		#{studentName});
	</insert>

	<resultMap type="Student" id="StudentMap">
		<id column="studentId" property="studentId" jdbcType="INTEGER" />
		<result column="studentName" property="studentName" jdbcType="VARCHAR" />
	</resultMap>

	<!-- resultType 引用的是别名 -->
	<select id="selectStudentById" parameterType="int" resultType="student">
		<!-- 当需要忽略sql 中的 特殊标签的含义时，使用<![CDATA[ -->
        <![CDATA[
            select * from student where studentId = #{id}
        ]]>
	</select>

	<select id="selectAllStudents" resultType="student">
		select * from student
	</select>

    <insert id="batchInsert" useGeneratedKeys="true" parameterType="java.util.List">
        <selectKey resultType="int" keyProperty="studentId" order="AFTER">  
            SELECT  
            LAST_INSERT_ID()  
        </selectKey>
        insert into student(studentId, studentName) values
        <foreach collection="list" item="item" index="index" separator=",">
            (#{item.studentId, jdbcType=INTEGER}, #{item.studentName, jdbcType=VARCHAR})
        </foreach>
    </insert>
</mapper>